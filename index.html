<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pal Pal â€” Typewriter Lyrics</title>
  <style>
    body {
      background: #0f1720;
      color: #e6eef8;
      font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      padding: 36px;
      line-height: 1.6;
    }

    .container {
      max-width: 820px;
      margin: 0 auto;
    }

    h1 {
      margin: 0 0 18px 0;
      font-size: 28px;
      color: #fff;
      letter-spacing: 0.2px;
    }

    #output {
      background: rgba(255,255,255,0.03);
      border-radius: 8px;
      padding: 18px;
      min-height: 200px;
      white-space: pre-wrap;
      font-family: "Courier New", monospace;
      font-size: 18px;
      color: #cfe9ff;
      box-shadow: 0 6px 24px rgba(0,0,0,0.6);
    }

    .controls {
      margin-top: 12px;
      display:flex;
      gap:8px;
    }

    button {
      background:#1f6feb;
      color:#fff;
      border: none;
      padding: 10px 14px;
      border-radius:6px;
      cursor:pointer;
      font-weight:600;
    }

    button:disabled {
      opacity:0.5;
      cursor:not-allowed;
    }

    .small {
      font-size: 13px;
      color: #9fb8db;
      margin-left:8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Pal Pal : <span class="small">Typewriter Lyrics</span></h1>

    <div id="output"></div>

    <div class="controls">
      <button id="startBtn">Start</button>
      <button id="restartBtn" disabled>Restart</button>
      <div class="small">You can adjust speed in the script variables.</div>
    </div>
  </div>

  <script>
    // Lyrics and configuration (previously PHP arrays)
    const lyrics = [
      "Mein ab kyun hosh may aata nahi?",
      "Sukoon yeh dil kyun paata nahi?",
      "Kyun torrun khud se jo thay waaday",
      "Ke ab yeh ishq nibhaana nahi?",
      "Mein morrun tum se jo yeh chehra",
      "Dobara nazar milana nahi",
      "Yeh duniya jaanay mera dard",
      "Tujhe yeh nazar kyun aata nahi?"
    ];

    const linePauses = [300, 300, 400, 300, 300, 300, 300, 800]; // per-line pause (ms)
    const defaultCharDelay = 50; // ms per character
    const initialPause = 1200; // ms before start

    const outputEl = document.getElementById('output');
    const startBtn = document.getElementById('startBtn');
    const restartBtn = document.getElementById('restartBtn');

    // Sleep utility
    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    // Type a line with typewriter effect
    async function typeLine(line, charDelay = defaultCharDelay) {
      for (let i = 0; i < line.length; i++) {
        outputEl.textContent += line[i];
        await sleep(charDelay);
      }
      outputEl.textContent += '\n';
    }

    // Main function to play all lyrics
    async function playLyrics() {
      startBtn.disabled = true;
      restartBtn.disabled = true;
      outputEl.textContent = '';

      outputEl.textContent = "Pal Pal :\n\n";
      await sleep(initialPause);

      for (let i = 0; i < lyrics.length; i++) {
        const line = lyrics[i];
        const jitter = Math.floor(Math.random() * 20) - 10; // variation per line
        const charDelay = Math.max(10, defaultCharDelay + jitter);

        await typeLine(line, charDelay);

        const pause = linePauses[i] !== undefined ? linePauses[i] : 350;
        await sleep(pause);
      }

      restartBtn.disabled = false;
      startBtn.disabled = false;
    }

    startBtn.addEventListener('click', playLyrics);
    restartBtn.addEventListener('click', () => {
      outputEl.textContent = '';
      playLyrics();
    });
  </script>
</body>
</html>
